<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Video.js CMCD Test Player</title>
  <link href="https://unpkg.com/video.js@8/dist/video-js.css" rel="stylesheet">
  <link href="styles.css" rel="stylesheet">
</head>
<body>
  <div class="main-content">
    <div class="container">
      <h1>Video.js CMCD Test Player</h1>
      <p>This player tests the ability of Video.js to emit Common Media Client Data (CMCD) for both HLS and DASH playback.</p>
      
      <div class="content-wrapper">
        <div class="left-column">
          <div class="controls">
            <div class="source-selector">
              <label for="source-select">Select Source:</label>
              <select id="source-select">
                <option value="hls">HLS Stream (Big Buck Bunny)</option>
                <option value="dash">DASH Stream (Big Buck Bunny)</option>
                <option value="custom">Custom URL</option>
              </select>
            </div>
            <div id="custom-url-container" style="display: none; margin-top: 10px;">
              <label for="custom-url">Custom URL:</label>
              <input type="text" id="custom-url" style="width: 500px; padding: 5px;" placeholder="Enter HLS (.m3u8) or DASH (.mpd) URL">
              <button id="load-custom">Load</button>
            </div>
          </div>

          <div class="video-container">
            <video
              id="my-video"
              class="video-js vjs-default-skin vjs-big-play-centered"
              controls
              preload="auto"
              width="100%"
              height="600"
              data-setup='{"fluid": false, "responsive": false}'
            >
              <p class="vjs-no-js">
                To view this video please enable JavaScript, and consider upgrading to a web browser that
                <a href="https://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a>.
              </p>
            </video>
          </div>

          <div class="cmcd-log" id="cmcd-log">
            <div class="cmcd-log-header">
              <h3>CMCD Request Log</h3>
              <div class="panel-controls">
                <button id="clear-log">Clear</button>
                <button id="toggle-log">Hide</button>
              </div>
            </div>
            <div id="log-content"></div>
          </div>
        </div>

        <div class="right-column">
          <div class="cmcd-values-panel">
            <div class="cmcd-values-header">
              <h3>CMCD Values</h3>
            </div>
            <div class="cmcd-values-content" id="cmcd-values-content">
              <!-- CMCD values will be populated here -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Video.js and plugins -->
  <script src="https://unpkg.com/video.js@8/dist/video.min.js"></script>
  <script src="https://unpkg.com/@videojs/http-streaming@3/dist/videojs-http-streaming.min.js"></script>
  <script src="https://unpkg.com/videojs-contrib-quality-menu@latest/dist/videojs-contrib-quality-menu.min.js"></script>
  
  <!-- CMCD Plugin -->
  <script src="cmcd-plugin.js"></script>
  
  <!-- Main application script -->
  <script src="app.js"></script>
</body>
</html>
